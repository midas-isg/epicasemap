@import tags._

@* Series modal dialog *@
@(orders:Seq[Seq[String]] = Seq(
			Seq("date", "Date"), 
			Seq("value", "Value"),
			Seq("location", "Location"),
			Seq("latitude", "Latitude"), 
			Seq("longitude", "Longitude"))
)
@bs_modal("seriesModal", "Series", "Series Editor", "close()")(editor())(modal_buttons("Series"))

@editor() = {
	<form name='form' class="form-horizontal" role="form">
		@metadata_inputs()
	</form>
	@dataSection("view.hideData")
}

@dataSection(varName:String) = {
	@section_expandable(varName){
		<h4>
			@span_expandable(varName, 
			"The Series contains {{count(coordinates)}} data from {{locationIds.size}} location(s)")
		<button title="Open the dialog to upload data" class='btn btn-large' 
		ng-click='uploadNewData(model.id)' ng-disabled ='! model.id'>
			@bs_icon("upload") Upload data ...
		</button>
		</h4>
	}{
		@table_filterable("coordinates", "data", "data", orders)
	}
}
